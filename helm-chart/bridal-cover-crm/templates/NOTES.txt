üéâ Parab√©ns! O Bridal Cover CRM foi instalado com sucesso!

üì¶ Release Information:
  Nome: {{ .Release.Name }}
  Namespace: {{ .Release.Namespace }}
  Vers√£o do Chart: {{ .Chart.Version }}
  Vers√£o da App: {{ .Chart.AppVersion }}

{{- if .Values.ingress.enabled }}

üåê Acesso √† Aplica√ß√£o:
  {{- range .Values.ingress.hosts }}
  URL: https://{{ .host }}
  {{- end }}

{{- else if contains "NodePort" .Values.service.type }}

üåê Acesso √† Aplica√ß√£o:
  Obtenha a URL da aplica√ß√£o executando:

  export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath="{.spec.ports[0].nodePort}" services {{ include "bridal-cover-crm.fullname" . }})
  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath="{.items[0].status.addresses[0].address}")
  echo "URL: http://$NODE_IP:$NODE_PORT"

{{- else if contains "LoadBalancer" .Values.service.type }}

üåê Acesso √† Aplica√ß√£o:
  Obtenha o IP externo executando:

  NOTE: Pode levar alguns minutos para o LoadBalancer ficar dispon√≠vel.
        Voc√™ pode verificar o status com: kubectl get svc --namespace {{ .Release.Namespace }} -w {{ include "bridal-cover-crm.fullname" . }}

  export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include "bridal-cover-crm.fullname" . }} --template "{{"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}"}}")
  echo "URL: http://$SERVICE_IP:{{ .Values.service.port }}"

{{- else if contains "ClusterIP" .Values.service.type }}

üåê Acesso √† Aplica√ß√£o:
  Para acessar a aplica√ß√£o localmente, execute:

  kubectl port-forward --namespace {{ .Release.Namespace }} svc/{{ include "bridal-cover-crm.fullname" . }} 8080:{{ .Values.service.port }}

  Em seguida, acesse: http://localhost:8080

{{- end }}

üìä Monitoramento:

  # Ver status dos pods
  kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

  # Ver logs da aplica√ß√£o
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }} -f

  # Ver health check
  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "bridal-cover-crm.fullname" . }} 8080:{{ .Values.service.port }}
  curl http://localhost:8080/actuator/health

{{- if .Values.postgresql.enabled }}

üóÑÔ∏è  PostgreSQL:

  # Obter senha do PostgreSQL
  export POSTGRES_PASSWORD=$(kubectl get secret --namespace {{ .Release.Namespace }} {{ include "bridal-cover-crm.fullname" . }}-postgresql -o jsonpath="{.data.password}" | base64 -d)

  # Conectar ao PostgreSQL
  kubectl run {{ include "bridal-cover-crm.fullname" . }}-postgresql-client --rm --tty -i --restart='Never' \
    --namespace {{ .Release.Namespace }} \
    --image docker.io/bitnami/postgresql:latest \
    --env="PGPASSWORD=$POSTGRES_PASSWORD" \
    --command -- psql --host {{ include "bridal-cover-crm.fullname" . }}-postgresql -U {{ .Values.postgresql.auth.username }} -d {{ .Values.postgresql.auth.database }} -p 5432

{{- end }}

{{- if .Values.autoscaling.enabled }}

‚ö° Autoscaling:

  # Ver status do HPA
  kubectl get hpa -n {{ .Release.Namespace }} {{ include "bridal-cover-crm.fullname" . }}

  # Monitorar escalonamento
  kubectl get hpa -n {{ .Release.Namespace }} {{ include "bridal-cover-crm.fullname" . }} --watch

{{- end }}

üîß Comandos √öteis:

  # Atualizar a release
  helm upgrade {{ .Release.Name }} bridal-cover-crm/bridal-cover-crm -f values.yaml

  # Ver hist√≥rico de revis√µes
  helm history {{ .Release.Name }} -n {{ .Release.Namespace }}

  # Fazer rollback
  helm rollback {{ .Release.Name }} -n {{ .Release.Namespace }}

  # Ver valores aplicados
  helm get values {{ .Release.Name }} -n {{ .Release.Namespace }}

  # Desinstalar
  helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

üìö Documenta√ß√£o:
  - GitHub: https://github.com/GuAntunes/bridal-cover-crm
  - API Docs: https://{{ (index .Values.ingress.hosts 0).host }}/swagger-ui/index.html

üéØ Ambiente: {{ .Values.app.environment }}

Obrigado por usar o Bridal Cover CRM! ‚ù§Ô∏è

